{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/App/App.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/services/images-api.js","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","search","setSearch","className","styles","e","preventDefault","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","name","onChange","target","ImageGalleryItem","image","openModal","tags","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","largeImageURL","webformatURL","id","API_KEY","Button","changePage","Loader","MODAL_ROOT","document","querySelector","Modal","onClose","children","useEffect","handleKeyPress","code","window","addEventListener","removeEventListener","createPortal","Overlay","currentTarget","role","App","setImages","pageNumber","setPageNumber","isLoading","setIsLoading","isModalOpen","setIsModalOpen","setLargeImageURL","prev","fetch","then","x","Promise","resolve","setTimeout","res","json","data","hits","fetchImages","console","log","catch","error","alert","finally","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3fc0e044.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2-9fR\",\"SearchForm\":\"Searchbar_SearchForm__2FdGR\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1NpoU\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3uHBK\",\"SearchFormInput\":\"Searchbar_SearchFormInput__b1IcX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3MNDj\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2SZ7f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1nvlr\",\"Modal\":\"Modal_Modal__ToHAX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__UFJEX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2Lijv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2U6F3\"};","import React, { useState } from \"react\";\nimport styles from \"./Searchbar.module.css\";\n\nconst Searchbar = ({ onSubmit }) => {\n  const [search, setSearch] = useState(\"\");\n\n  const handleChange = (e) => setSearch(e.target.value);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(search);\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form onSubmit={handleSubmit} className={styles.SearchForm}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <span className={styles.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={styles.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={search}\n          name=\"search\"\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n};\nexport default Searchbar;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, openModal, tags }) => {\n  return (\n    <li onClick={openModal} className={styles.ImageGalleryItem}>\n      <img src={image} alt={tags} className={styles.ImageGalleryItemImage} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: T.string,\n  openModal: T.func,\n  tags: T.string,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(({ tags, largeImageURL, webformatURL, id }) => (\n        <ImageGalleryItem\n          openModal={() => openModal(largeImageURL)}\n          key={id}\n          image={webformatURL}\n          tags={tags}\n        />\n      ))}\n    </ul>\n  );\n};\nexport default ImageGallery;\n","// const BASE_URL = \"https://pixabay.com/api\";\nconst API_KEY = \"24483038-cb7cc094485ab1051031cc5e6\";\n\nexport const fetchImages = (search = \"\", pageNumber = 1) => {\n  return (\n    fetch(\n      `https://pixabay.com/api/?q=${search}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n      .then((x) => new Promise((resolve) => setTimeout(() => resolve(x), 1000)))\n      // Задержка добавлена для тестирования Loader\n      .then((res) => res.json())\n      .then((data) => data.hits)\n  );\n};\n","import React from \"react\";\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ changePage }) => (\n  <button type=\"button\" className={styles.Button} onClick={changePage}>\n    Load more...\n  </button>\n);\n\nexport default Button;\n","import React from 'react';\n\nconst Loader = () => <div>Loading...</div>;\n\nexport default Loader;\n","import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./Modal.module.css\";\n\nconst MODAL_ROOT = document.querySelector(\"#modal-root\");\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      if (e.code !== \"Escape\") {\n        return;\n      }\n      onClose();\n    };\n\n    window.addEventListener(\"keydown\", handleKeyPress);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyPress);\n    };\n  });\n\n  const handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div\n      className={styles.Overlay}\n      onClick={handleBackdropClick}\n      role=\"presentation\"\n    >\n      <div className={styles.Modal}>{children}</div>\n    </div>,\n    MODAL_ROOT\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport { fetchImages } from \"../services/images-api\";\nimport Button from \"../Button/Button\";\nimport Loader from \"../Loader/Loader\";\nimport Modal from \"../Modal/Modal\";\nimport styles from \"../App/App.module.css\";\n\nconst App = () => {\n  const [images, setImages] = useState([]);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [search, setSearch] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\n\n  useEffect(() => {\n    if (search === \"\") return;\n    setIsLoading((prev) => !prev);\n    fetchImages(search, pageNumber)\n      .then((hits) => {\n        console.log(`hits`, hits);\n        setImages((prev) => (pageNumber === 1 ? hits : [...prev, ...hits]));\n      })\n      .catch((error) => alert(\"Off\"))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [pageNumber, search]);\n  const onSearch = (search) => {\n    setSearch(search);\n    setImages([]);\n    setPageNumber(1);\n  };\n\n  const openModal = (largeImageURL) => {\n    setIsModalOpen(true);\n    setLargeImageURL(largeImageURL);\n  };\n  const closeModal = () => setIsModalOpen(false);\n\n  const changePage = () => {\n    setPageNumber((prev) => prev + 1);\n  };\n  return (\n    <div className={styles.App}>\n      <Searchbar onSubmit={onSearch} />\n      <ImageGallery openModal={openModal} images={images} />\n      {isLoading && <Loader />}\n      {images.length > 0 && <Button changePage={changePage} />}\n      {isModalOpen && (\n        <Modal onClose={closeModal}>\n          <img src={largeImageURL} alt=\"\" />\n        </Modal>\n      )}\n    </div>\n  );\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}